---
type Crumb = { name: string; url: string };

interface Props { 
  items: Crumb[]; 
}

const { items } = Astro.props;

const structuredData = {
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: items.map((c, i) => ({
    '@type': 'ListItem',
    position: i + 1,
    name: c.name,
    item: new URL(c.url, Astro.url.origin)
  }))
};
---
<script type="application/ld+json" set:html={ JSON.stringify(structuredData) } />
