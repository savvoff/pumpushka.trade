---
interface Props {
  headline: string;
  description?: string;
  url: string;                  
  image?: string;               
  datePublished: string;        
  dateModified?: string;        
  authorName?: string;          
  publisherName: string;        
  publisherLogo?: string;       
}
const p = Astro.props;

const structuredData = {
  '@context': 'https://schema.org',
  '@type': 'BlogPosting',
  headline: p.headline,
  description: p.description,
  url: p.url,
  mainEntityOfPage: p.url,
  image: p.image ? [p.image] : undefined,
  datePublished: p.datePublished,
  dateModified: p.dateModified || p.datePublished,
  author: p.authorName ? { '@type': 'Person', name: p.authorName } : undefined,
  publisher: {
    '@type': 'Organization',
    name: p.publisherName,
    logo: p.publisherLogo ? { '@type': 'ImageObject', url: p.publisherLogo } : undefined
  }
};
---
<script type="application/ld+json" set:html={ JSON.stringify(structuredData) } />
